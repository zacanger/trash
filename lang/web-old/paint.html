<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>paint</title>
</head>
<body>
  <input id="col" placeholder="color plz" />
  <canvas id="paint"></canvas>
  <script type="text/javascript">
    const canvas = document.getElementById('paint')
    const ctx = canvas.getContext('2d')

    let pos = { x: 0, y: 0 }

    const resize = () => {
      ctx.canvas.width = window.innerWidth
      ctx.canvas.height = window.innerHeight
    }

    const setPosition = (e) => {
      pos.x = e.clientX
      pos.y = e.clientY
    }

    const draw = (e) => {
      if (e.buttons !== 1) return
      const color = document.getElementById('col').value
      ctx.beginPath()
      ctx.lineWidth = 20
      ctx.lineCap = 'round'
      ctx.strokeStyle = color
      ctx.moveTo(pos.x, pos.y)
      setPosition(e)
      ctx.lineTo(pos.x, pos.y)
      ctx.stroke()
    }

    window.addEventListener('resize', resize)
    document.addEventListener('mousemove', draw)
    document.addEventListener('mousedown', setPosition)
    document.addEventListener('mouseenter', setPosition)

    resize()
  </script>
</body>
</html>